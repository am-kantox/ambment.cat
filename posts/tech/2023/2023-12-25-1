GHA FTW

–Ø —Å—Ç–∞—Ä–∞—é—Å—å –Ω–µ —Ä–∞–∑–≤–æ–¥–∏—Ç—å —É —Å–µ–±—è –Ω–∞ –¥–æ–º–∞—à–Ω–µ–π –º–∞—à–∏–Ω–µ –ª–∏—à–Ω–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞¬†‚Äî –∫–∞–∫ –ø—Ä–æ—Å—Ç–∏—Ç—É—Ç–∫–∞: –ª–µ–≥–∫–æ–¥–æ—Å—Ç—É–ø–Ω–∞, –Ω–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Å–µ–∫—Å–∞ –º–∞–ª–æ–ø—Ä–∏–≥–æ–¥–Ω–∞. –î–æ–∫–µ—Ä –±—ã–ª –ø—Ä–∏–¥—É–º–∞–Ω, —á—Ç–æ–±—ã –æ–ø—Ä–∞–≤–¥–∞—Ç—å –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—É—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é ¬´–¥–µ–≤–æ–ø—Å¬ª, —Å–¥–µ–ª–∞—Ç—å –ë–µ–∑–æ—Å–∞ –µ—â–µ –±–æ–≥–∞—á–µ –∏ —Å–¥–µ–ª–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã–º –∏ –±–µ–∑ —Ç–æ–≥–æ –¥–æ–≤–æ–ª—å–Ω–æ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏¬†‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–º —Å–æ–≤—Å–µ–º —É–∂ –¥—É—Ä–∞—á–∫–∞–º.

```yaml
name: üöÄ Build and Deploy on Push

on: [push]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    env:
      MIX_ENV: dev
    name: üí° AmbMent Publishing
    strategy:
      fail-fast: true
      matrix:
        include:
          - pair:
              otp: 26.2
              elixir: 1.16
    steps:
      - name: üöö Get latest code
        uses: actions/checkout@v4
      
      - name: üíß Install OTP ${{matrix.pair.otp}} / Elixir ${{matrix.pair.elixir}}
        uses: erlef/setup-elixir@v1
        with:
          otp-version: ${{matrix.pair.otp}}
          elixir-version: ${{matrix.pair.elixir}}

      - name: üìú Install Node
        uses: actions/setup-node@v4
        with:
          node-version: 18

      - name: üíß Build static site
        run: |
          mix do deps.get, deps.compile, compile
          mix serum.build

      - name: üîé Build Pagefind Index
        run: |
          npx -y pagefind --site "site"

      - name: üìÇ Sync files
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.AMBMENT_DOMAIN }}
          username: ${{ secrets.AMBMENT_USER }}
          password: ${{ secrets.AMBMENT_PASS }}
          local-dir: "./site/"
          server-dir: "./datos/web/"
          dry-run: false
```

–û—Å—Ç–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤–æ—Ä–∫–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –º–∞—Å—Ç–æ–¥–æ–Ω –æ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏¬†‚Äî –∏ —è –±—É–¥—É –ø–æ—á—Ç–∏ –¥–æ–≤–æ–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.