Как я π продавал

В конце девяностых работал я в славной программистской конторе, мы за смешные для заказчика деньги пилили американский складской учет. Кобол с тех пор остается моим самым любимым языком для начала разговора с рекрутерами, а связку Oracle+Cobol+C+VB3 — я с полным правом считаю огнем, водой и медными трубами, которые прокалили мой хиленький девелоперский организм.

Работали мы вбелую, что было естественным требованием американской стороны. Американцы считали, что мы работаем из чистого альтруизма. Курс доллара все еще был довольно причудливым.

В 1997 году белая бухгалтерия — означала семь кругов ада, которые было необходимо пройти для любого незначительного телодвижения, от получения зарплаты (полагаю, мы принадлежали к крайне малочисленной группе людей, полностью плативших налоги, поэтому соответствующие службы относились к нам настороженно) — до полного цикла товар-деньги-товар, который подразумевал помимо получения бабла — отгрузку товара. Напомните, как-нибудь расскажу, как я вступился за пьяного на Каменноостровском, а когда меня волокли в ближайшее отделение — на всю улицу орал: «Да я вас обоих на свои налоги содержу» — за что меня вскоре, совершенно справедливо и даже в чем-то гуманно, учитывая, что я понял в процессе многие довольно важные вещи, — отпиздили дубинками в обезьяннике.

Мы арендовали мегабитный, кажется, канал связи, напрямую в коаксиале под Атлантикой. По нему удавалось установить `ssh`–соединение, но попытки использовать _Visual SourceSafe_ напрямую с американскими серверами — были настолько мучительны, что я оставлял синхронизацию на ночь. Про `ssh`-сессию, которая однажды обошлась нам в годовую зарплату инженера, у меня тоже есть смешная история, тоже как-нибудь расскажу.

Через этот канал мы выливали свои поделки напрямую на машину в штатах, которая использовалась для сборки продукта. За эти поделки американцы платили нам баснословные по тем временам для простых ленинградских оболтусов — деньги. 

---

Я довольно быстро стал в этой конторе тем, что сейчас называлось бы CTO. Я продолжал писать код, но и большинство организационных задач (переписка с американцами, установка сроков, получение по башке за их срыв) — легло на мои не очень хрупкие, но тогда еще не особо подготовленные для такого, — плечи.

В начале декабря меня попросил зайти генеральный. В кабинете я застал обескураженного Михал Захарыча, что с ним случалось довольно редко, и зареванную бухгалтершу Верочку. Спустя десять минут всхлипываний и причитаний я смог уловить суть: какая-то очередная служба не закрывает нам документы по зарплате сотрудников без предоставления копий таможенных бумаг на отправку груза. Товар-деньги-товар, помните?

Я пообещал проблему решить в сжатые сроки и откланялся. 

В налоговой декларации, или как там оно называется, указывалось, что деньги из далекой страны мы получаем за программный код, продаваемый заказчику. Слово «интернет» тогда еще не вошло в активный словарный запас налоговиков, поэтому объяснить им, что товар мы отгружаем по защищенному каналу связи — казалось задачей неразрешимой. Перспектива объяснять в налоговой механизм работы системы контроля версий, пусть даже такой инновационной, как _SourceSafe_, мне не нравилась с самого начала.

Тем не менее, я все-таки поехал в налоговую. Я наивно и претенциозно полагал себя неплохим оратором. Попытался лично донести суть. Рисовал красивые диаграммы. Оперировал терминами «удаленное хранилище кода», «доступ по защищенному сетевому протоколу». Нахраписто демонстрировал собственный идиотизм, чем еще сильнее убедил налоговиков в сомнительной природе нашего бизнеса. Уходил оттуда я удрученный. Мне не только не удалось решить проблему, я ее многократно усугубил.

Тогда я попросил секретаршу шефа купить пару коробок трехдюймовых дискет.

Таможня могла заглянуть внутрь (теоретически; практически тогда у них вряд ли были компьютеры в принципе), поэтому записать на них настоящий американский код — означало нарушить контракт. Отправлять дискеты пустыми мне показалось искусственным. Возникшую было идею накромсать на куски по мегабайту системные файлы винды — я отмел из-за дотошных американцев с той стороны: они бы точно проверили содержимое дискет, а покупать у российского филиала файлы, принадлежащие микрософту — пусть и в традиционном ленинградском расчлененном виде — не самое легальное действие.

Решение пришло быстро. Мне нужно было наскрести десять с лишним мегабайт не защищенного авторским правом мусора. В те годы было популярно использовать вычислительные мощности для подсчета многих знаков числа π. Я пришел на работу в субботу, быстро набросал несколько строчек кода — и к понедельнику у меня на жестком диске покоились 11 мегабайт пей (пиов?). В общем, 11 миллионов знаков после запятой. Я расчехлил `tar` для нарезки, записал результат на дискеты и мы выслали _эту коробку дискет_ самым дорогим заказным отправлением в Бостон.

Бумаги теперь были в порядке и нам разрешили получить и обелить очередной зарплатный транш. Так мне удалось продать π по цене примерно доллар за каждые 800 знаков после запятой.